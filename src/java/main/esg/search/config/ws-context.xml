<?xml version="1.0" encoding="UTF-8"?>
<!-- Spring context configuration for search web services -->
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">
                           
   	<!-- URLs configuration -->
	<bean id="urlMappings" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
	    <property name="order" value="1" />
		<property name="mappings">
			<props>
			
				<!-- Publishing Web Services -->
				<prop key="/hessian/publish/">publishingWebService</prop>
				
				<!-- legacy URL -->
				<prop key="/secure/client-cert/hessian/publishingService">legacyPublishingWebService</prop>
				
				<!-- Search Web Service -->
				<prop key="/hessian/search/">searchWebService</prop>
				
				<!-- Search Rest Controller -->
				<prop key="/rest/search/">searchRestController</prop>
				<prop key="/rest/searchById/">searchRestController</prop>
				<prop key="/rest/searchByTimeStamp/">searchRestController</prop>
				
			</props>
		</property>
	</bean>

	<!-- Publishing Web Service -->
    <bean name="publishingWebService" class="org.springframework.remoting.caucho.HessianServiceExporter">
        <property name="service">
            <ref bean="publishingService"/>
        </property>
        <property name="serviceInterface">
            <value>esg.search.publish.api.PublishingService</value>
        </property>
    </bean> 
    
    <!-- Legacy Publishing Web Service -->
    <bean name="legacyPublishingWebService" class="org.springframework.remoting.caucho.HessianServiceExporter">
        <property name="service">
            <ref bean="legacyPublishingService"/>
        </property>
        <property name="serviceInterface">
            <value>esg.search.publish.api.LegacyPublishingService</value>
        </property>
    </bean> 
    
    <!-- Search Web Service -->
    <bean name="searchWebService" class="org.springframework.remoting.caucho.HessianServiceExporter">
        <property name="service">
            <ref bean="searchWebServiceImpl"/>
        </property>
        <property name="serviceInterface">
            <value>esg.search.query.ws.hessian.SearchWebService</value>
        </property>
    </bean> 

</beans>
